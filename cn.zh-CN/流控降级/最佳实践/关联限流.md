# 关联限流 {#concept_srl_nxh_mgb .concept}

使用关联限流策略，可以避免具有关联关系的资源之间过度的争抢，造成的资源不可用问题。

当两个资源之间具有资源争抢或者依赖关系的时候，这两个资源便具有了关联。比如对数据库同一个字段的读操作和写操作存在争抢，读的速度过高会影响写得速度，写的速度过高会影响读的速度。如果放任读写操作争抢资源，则争抢本身带来的开销会降低整体的吞吐量。可使用关联限流来避免具有关联关系的资源之间过度的争抢，举例来说，`read_db` 和 `write_db` 这两个资源分别代表数据库读写，我们可以给 `read_db` 设置限流规则来达到写优先的目的。这样当写库操作过于频繁时，读数据的请求会被限流。

## 场景 {#section_xry_4xh_mgb .section}

当两个资源之间具有资源争抢或者依赖关系的时候，这两个资源便具有了关联。

例如，对数据库同一个字段的读操作和写操作存在争抢，读的速度过高会影响写得速度，写的速度过高会影响读的速度。如果放任读写操作争抢资源，则争抢本身带来的开销会降低整体的吞吐量。

您可以使用关联限流来避免具有关联关系的资源之间过度的争抢，举例来说，`read_db` 和 `write_db` 这两个资源分别代表数据库读写。为 `read_db` 设置限流规则来达到写优先的目的。这样当写库操作过于频繁时，读数据的请求会被限流。

## 配置流控规则 {#section_plg_yxh_mgb .section}

定义了两个资源之后，在规则设置中按照下面的方式进行配置：

![](https://aliware-images.oss-cn-hangzhou.aliyuncs.com/ahas/db_bestp_link.png) 

**说明：** 

具体操作步骤，参见[新建流控规则](cn.zh-CN/流控降级/控制台指南/流控规则.md#section_yks_qfd_kgb)。

通过以上设置，`read_db` 就会在 `write_db` 资源的 QPS 超过 10 之后，调用被拒绝。

