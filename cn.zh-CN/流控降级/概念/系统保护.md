# 系统保护 {#concept_cmr_ly4_kgb .concept}

系统保护机制从整体维度对应用入口流量进行控制，结合应用的 Load、总体平均 RT、入口 QPS 和线程数等几个维度的监控指标，让系统的入口流量和系统的负载达到一个平衡，让系统尽可能跑在最大吞吐量的同时保证系统整体的稳定性。

**说明：** 系统保护规则是整体维度的，而不是资源维度的，并且**仅对入口流量生效**。入口流量指的是进入应用的流量，比如 Web 服务或 Dubbo 服务端接收的请求，都属于入口流量。

对于一个应用来说，每种相同的系统保护规则最多只能存在一条，即一个应用最多配置四条系统保护规则。

系统规则支持四种阈值类型：

-   **Load**（仅对 Linux/Unix-like 机器生效）：当系统 load1 超过阈值，且系统当前的并发线程数超过预计的系统容量时才会触发系统保护。预计的系统容量由系统的 `maxQps * minRt` 计算得出。
-   **RT**：当单台机器上所有入口流量的平均 RT 达到阈值即触发系统保护，单位是毫秒。
-   **线程数**：当单台机器上所有入口流量的并发线程数达到阈值即触发系统保护。
-   **入口 QPS**：当单台机器上所有入口流量的 QPS 达到阈值即触发系统保护。

