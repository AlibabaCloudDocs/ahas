# 同城容灾架构接入标准

本文介绍公共云同城容灾架构的基本原理和接入标准。

## 基本原理

同城容灾是在相隔较远的两地（同城）建立两套功能相同的IT系统，当一处系统因意外（火灾、地震等）停止工作时，整个应用系统可以切换到另一处，使得该系统功能可以继续正常工作。

对于中大型企业来说，如果希望业务系统具备同城容灾的能力，推荐如下图所示的公共云同城容灾架构。

![同城容灾.png](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/4219846161/p254165.png)

架构说明：

-   在同城不同可用区之间对原有应用架构做一套完整的备份，SLB、ECS、RDS、Redis等均在两个机房同时部署。
-   前端部署DNS解析，如果某个可用区出现像IDC机房断电或者火灾等机房级故障时，可以通过前端切换DNS来及时恢复业务。
-   非机房级故障（某个机房的单产品故障，如其中一个机房的ECS服务器损坏），故障切换保障由单产品的灾备设计保障。

## 应用设计相关参考标准

应用设计相关参考标准如下：

-   无状态化。
-   分布式集群设计、避免单点逻辑出现。
-   幂等。
-   异步化、松耦合、可中断、可重试。
-   面向失败的架构设计。

