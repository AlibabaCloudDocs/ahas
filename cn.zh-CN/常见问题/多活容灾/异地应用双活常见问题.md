# 异地应用双活常见问题

本文介绍异地应用双活的常见问题以及解决方案。

-   [混合云场景下，涉及云上云下两朵云，两朵云的注册中心如何建立容灾？](#section_se2_prl_8lm)
-   [配置中心如何建立容灾？](#section_l8k_cu6_lic)
-   [业务场景中以MySQL数据源为基准，会额外冗余到ES存储数据用于业务使用，ES数据是如何做同步？](#section_aa2_9pp_g8z)
-   [异地应用双活架构是否需要业务改造？](#section_o2p_w0z_ph0)

## 混合云场景下，涉及云上云下两朵云，两朵云的注册中心如何建立容灾？

注册中心云上云下独立，过渡期可基于MSHA-rpc-sync进行单向同步可见。

## 配置中心如何建立容灾？

建议您在代码层面对配置中心进行双写改造，对控制台进行多写改造。若您不想改造，需保证同步工具配置最终一致，再考虑是自建还是阿里云支持建设，初步建议您自建。最佳实践场景中，建议您配置推送的时候先推送一个单元，长时间灰度验证没问题后再进行另一个单元操作，因此不推荐自动同步配置。

## 业务场景中以MySQL数据源为基准，会额外冗余到ES存储数据用于业务使用，ES数据是如何做同步？

目前DTS支持MySQL的同步，其他数据源建议不同步。一份数据无需浪费多份资源进行同步，基于同步的MySQL数据生成其他数据库相关数据即可。

## 异地应用双活架构是否需要业务改造？

不需要代码改造。仅需要业务接入MSHA-agent即可具备能力。

