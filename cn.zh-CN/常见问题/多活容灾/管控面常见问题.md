# 管控面常见问题

本文介绍在MSHA管控面的常见问题以及解决方案。

-   [MSFE创建集群错误怎么办？](#section_neo_dhz_i90)
-   [确保VPC打通的场景？](#section_ad9_t68_hj1)
-   [关于HTTP/HTTPS的注意事项？](#section_usb_hw2_s9c)
-   [关于SLB的注意事项？](#section_wst_rrz_ta9)

## MSFE创建集群错误怎么办？

您可以从以下方面进行排查：

-   实例需要开启安全组，其中80端口用于用户流量（挂载SLB），8090端口用于MSHA管控。

    公共云开放地址如下：

    -   杭州：100.104.58.192/26
    -   上海：100.104.66.192/26
    -   北京：100.104.133.64/26
    -   深圳：100.104.255.128/26
-   CentOS必须是7u，不能是其它版本。集群网络类型要和ECS网络类型相同。

## 确保VPC打通的场景？

在MSFE与回源应用利用内网联通的情况下，需要确保两个单元间的VPC打通（SLB和ECS都在同一个VPC内最佳），并且带宽足够。

## 关于HTTP/HTTPS的注意事项？

-   如果到达MSFE的流量是HTTPS（例如MSFE位于用户流量第一跳），那么必须在MSFE配置域名的证书（配置顶级域名即可）。因为MSFE需要解析报文，并做路由寻址。
-   回源应用推荐使用HTTP，将证书终结在MSFE是合理的。因为MSFE到后端应用一般是内网，不需要加密。这也是目前支持的唯一一种方式。
-   回源应用也可以使用HTTPS，这种是在MSFE到应用的链路不可靠的情况下使用，目前暂不支持。

## 关于SLB的注意事项？

-   用户若需自行配置SLB监听，建议配置TCP监听即可。
-   若您一定要使用HTTP监听，则需注意以下风险：
    -   流量会经过SLB的Tengine，有一层性能损耗。
    -   流量会经过SLB的Tengine，对于会话保持、连接管理、报文长度、超时时间等无法进行管控。
    -   若配置了健康检查，MSFE的Tengine的健康检查路径为ip/status；路径错误会导致SLB会把MSFE的Tengine剔除，从而不能正常响应。

