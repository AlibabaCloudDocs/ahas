# API 管理 {#concept_264316 .concept}

在 AHAS 网关流控中，您可以创建 API 分组，并自定义每个 API 下面的 URL 路径匹配规则。AHAS 网关流控可以针对自定义的 API 分组进行流量控制。

## 新建自定义 API {#section_l6f_oj3_o2v .section}

按照以下步骤新建需要流控的 API 分组。

1.  登录 [AHAS 控制台](https://ahas.console.aliyun.com/)。
2.  在 AHAS 控制台左上角，选择应用接入的地域。
3.  在左侧导航栏，单击**流控降级** \> **网关流控**。
4.  单击目标网关应用卡片，进入该网关的监控详情。
5.  在左侧导航栏，选择 **API 管理**。单击右上角的**新增**按钮。
6.  在**新建自定义 API** 对话框中，填写 API 分组名称。该名称需要全局唯一，并且不能与路由配置文件中的路由 ID 重复。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/217940/155782720347148_zh-CN.png)

7.  填写 URL 路径匹配规则，先选择匹配模式，再根据匹配模式的要求填写匹配串。
    -   **匹配模式**分为以下三类：
        -   **精确模式**：严格按照给定的匹配串来匹配 URL 路径。示例：`/foo` 代表严格按照 `/foo`这个路径来匹配。
        -   **前缀模式**：按照给定的匹配串来进行前缀匹配，匹配串需符合 Spring Web 风格。示例：`/foo/**`代表匹配以 `/foo/` 开头的所有 URL，像 `/foo/22` 这种 URL 都可以匹配。
        -   **正则模式**：按照给定的正则表达式匹配串来进行匹配。
    -   **匹配串**：根据匹配模式的要求填写匹配串。
8.  单击**+新增匹配规则**，可添加多个 URL 路径匹配规则。
9.  单击**新增**，完成自定义 API 的创建。

    新增的 API 将出现在 API 管理页面。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/217940/155782720347151_zh-CN.png)


## 后续操作 {#section_17t_0vi_lsm .section}

新增 API 后，您可以编辑、删除 API，并对自定义的 API 设置流控规则。

-   **编辑 API** 
    1.  在 API管理页面，在目标 API 的**操作**列，单击**编辑**。
    2.  在编辑自定义API对话框中，修改 URL 匹配规则，也可以新增 URL 匹配规则。
-   **删除 API** 
    1.  在 API管理页面，在目标 API 的**操作**列，单击**删除**。
    2.  在提示框中，单击**确定**，将该 API 分组删除。
-   **设置流控规则** 

    参见[网关流控规则](intl.zh-CN/流控降级/控制台指南/网关流控/网关流控规则.md#)。


